<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Lisez les derniers articles sur la technologie et les gadgets de Gigaboulet.">
    <meta name="keywords" content="Gigaboulet, blog, technologie, gadgets, articles, high-tech, science, nouveautés">
    <meta name="author" content="Équipe Gigaboulet">
    <title>Articles - Gigaboulet : Actualités et Articles sur la Technologie et la Science</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-T63K4QVKHY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-T63K4QVKHY');
</script>
<body>
    <header>
        <h1>Articles de Gigaboulet</h1>
        <nav>
            <ul>
                <li><a href="index.html">Accueil</a></li>
                <li><a href="articles.html">Articles</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <section>
            <h2>Derniers Articles de Technologie et de la Science</h2>

            <form class="search" action="">
                <label for="">Recherche d'articles</label>
                <input class="input" type="text" placeholder="Entrez un sujet" /><br>
                <input type="submit" value="Rechercher" />
            </form>

            <div id="loadingMessage" style="display: none; text-align: center;">Chargement...</div>
<div class="container">
    <ul class="class-list"></ul>
</div>
            

            <script>
                document.addEventListener("DOMContentLoaded", function() {
                    const API_BASE_URL = "https://api.webz.io/newsApiLite?token=e28d92b5-d365-48d8-b09d-b245fd086676&q=";
                    const articlesContainer = document.querySelector(".container");
                    const searchForm = document.querySelector(".search");
                    const searchInput = document.querySelector(".input");
                    const loadingMessage = document.getElementById("loadingMessage");
                
                    searchForm.addEventListener("submit", function(event) {
                        event.preventDefault();
                        const searchQuery = searchInput.value.trim();
                        if (searchQuery) {
                            fetchArticles(searchQuery);
                        }
                    });
                
                    async function fetchArticles(query) {
                        const API_URL = `${API_BASE_URL}language:french AND ${encodeURIComponent(query)}`;
                        
                        loadingMessage.style.display = "block"; 
                        articlesContainer.innerHTML = ""; 
                
                        try {
                            const response = await fetch(API_URL);
                            const data = await response.json();
                        
                            loadingMessage.style.display = "none"; 
                
                            if (data.posts) {
                                displayArticles(data.posts);
                            } else {
                                articlesContainer.innerHTML = "<p>Aucun article trouvé.</p>";
                            }
                        } catch (error) {
                            console.error("Erreur lors de la récupération des articles :", error);
                            articlesContainer.innerHTML = "<p>Erreur lors du chargement des articles.</p>";
                            loadingMessage.style.display = "none";
                        }
                    }
                
                    function displayArticles(articles) {
                        articlesContainer.innerHTML = "";
                        articles.forEach(article => {
                            const articleElement = document.createElement("div");
                            articleElement.className = "article";
                
                            const title = document.createElement("h3");
                            title.textContent = article.title;
                
                            const text = document.createElement("p");
                            text.textContent = article.text.slice(0, 150) + "..."; 
                
                            const showMoreLink = document.createElement("a");
                            showMoreLink.textContent = "Voir Plus";
                            showMoreLink.href = article.url;
                            showMoreLink.target = "_blank";
                            showMoreLink.className = "show-more-button";
                
                            articleElement.appendChild(title);
                            articleElement.appendChild(text);
                            articleElement.appendChild(showMoreLink);
                            articlesContainer.appendChild(articleElement);
                        });
                    }
                
                    fetchArticles("language:french AND category:\"Science and Technology\"");
                });
                
            </script>
            
        </section>
    </main>
    <footer>
        <p>&copy; 2024 Gigaboulet. Tous droits réservés.</p>
    </footer>
</body>
</html>
